leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930, popup = "EducationSuperHighway")
runApp('Desktop/ficher/Shiny')
greenLeafIcon <- makeIcon(
iconUrl = "http://leafletjs.com/docs/images/leaf-green.png",
iconWidth = 38, iconHeight = 95,
iconAnchorX = 22, iconAnchorY = 94,
shadowUrl = "http://leafletjs.com/docs/images/leaf-shadow.png",
shadowWidth = 50, shadowHeight = 64,
shadowAnchorX = 4, shadowAnchorY = 62
)
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = greenLeafIcon,
popup = "EducationSuperHighway")
testIcons <- iconList(
home = makeIcon("~/Downloads/home.png", 18)
)
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = home,
popup = "EducationSuperHighway")
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons(home),
popup = "EducationSuperHighway")
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons(home),
popup = "EducationSuperHighway")
oceanIcons <- iconList(
ship = makeIcon("ferry-18.png", "ferry-18@2x.png", 18, 18),
pirate = makeIcon("danger-24.png", "danger-24@2x.png", 24, 24)
)
# Some fake data
df <- sp::SpatialPointsDataFrame(
cbind(
(runif(20) - .5) * 10 - 90.620130,  # lng
(runif(20) - .5) * 3.8 + 25.638077  # lat
),
data.frame(type = factor(
ifelse(runif(20) > 0.75, "pirate", "ship"),
c("ship", "pirate")
))
)
leaflet(df) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~oceanIcons[type])
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons("home"),
popup = "EducationSuperHighway")
testIcons <- iconList(
home = makeIcon("~/Downloads/home.png", 18)
)
testIcons
testIcons[1]
View(testIcons)
testIcons <- iconList(
home = makeIcon("~/Downloads/home.png", 18, 18)
)
testIcons <- iconList(
home = makeIcon("~/Downloads/home.png", 18, 18)
)
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons("home"),
popup = "EducationSuperHighway")
test <-   data.frame(type = factor(
ifelse(runif(20) > 0.75, "pirate", "ship"),
c("ship", "pirate")
))
test
View(test)
??makeIcon
testIcons <- iconList(
home = makeIcon("~/Downloads/home.png")#, 18, 18)
)
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons("home"),
popup = "EducationSuperHighway")
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons(home),
popup = "EducationSuperHighway")
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron')
testIcons <- iconList(
home = makeIcon("~/Downloads/home.png", "~/Downloads/home.png", 18, 18)
)
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons("home"),
popup = "EducationSuperHighway")
df <- sp::SpatialPointsDataFrame(
cbind(
(runif(20) - .5) * 10 - 90.620130,  # lng
(runif(20) - .5) * 3.8 + 25.638077  # lat
),
data.frame(type = factor(
ifelse(runif(20) > 0.75, "home", "home"),
c("home", "home")
))
)
df <- sp::SpatialPointsDataFrame(
cbind(
(runif(20) - .5) * 10 - 90.620130,  # lng
(runif(20) - .5) * 3.8 + 25.638077  # lat
),
data.frame(type = "home")
)
df <- sp::SpatialPointsDataFrame(
cbind(
(runif(20) - .5) * 10 - 90.620130,  # lng
(runif(20) - .5) * 3.8 + 25.638077  # lat
),
data.frame(type = factor(
ifelse(runif(20) > 0.75, "home", "not")))
)
leaflet(df) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~oceanIcons[type])
leaflet(df) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons("home"),
popup = "EducationSuperHighway")
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons["home"],
popup = "EducationSuperHighway")
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons[home],
popup = "EducationSuperHighway")
View(df)
??leaflet
df <- as.data.frame(df)
leaflet(df) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
View(df)
View(df)
names(df) <- c("type", "longitude", "lagitude")
leaflet(df) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
names(df) <- c("type", "longitude", "latitude")
names(df) <- c("type", "longitude", "lagitude")
names(df) <- c("type", "longitude", "latitude")
leaflet(df) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
df <- c("home", -122.4017, 37.7930)
names(df) <- c("type", "lng", "lat")
df
df <- as.data.frame(c("home", -122.4017, 37.7930))
View(df)
df <- as.data.frame("home", -122.4017, 37.7930))
df <- as.data.frame("home", -122.4017, 37.7930)
View(df)
df <- as.data.frame(c("home", -122.4017, 37.7930))
df <- melt(df)
df <- as.data.frame(c("home", -122.4017, 37.7930))
View(df)
View(df)
df <- c()
df$type <- "home"
df$lng <- -122
df$lat <- 37.
df$lat <- 37.7
names(df) <- c("type", "lng", "lat")
df <- as.data.frame(df)
View(df)
f <-
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(df,
#lng = -122.4017, lat = 37.7930,
icon = ~testIcons[type],
popup = "EducationSuperHighway")
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(
#lng = -122.4017, lat = 37.7930,
icon = ~testIcons[type],
popup = "EducationSuperHighway")
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(
#lng = -122.4017, lat = 37.7930,
icon = ~testIcons[df$type],
popup = "EducationSuperHighway")
shiny::runApp('Downloads/3dde3bae99374cc7967ff2160682a7a6')
runApp('Desktop/ficher/Shiny')
runApp('Desktop/ficher/Shiny')
runApp('Downloads/3dde3bae99374cc7967ff2160682a7a6')
runApp('Desktop/ficher/Shiny')
wd <- "~/Google Drive/my_Shiny"
setwd(wd)
marker_data <- read.csv('app_data.csv', as.is = TRUE)
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
icon = ~testIcons[],
popup = "EducationSuperHighway")
library(leaflet)
marker_data <- read.csv('app_data.csv', as.is = TRUE)
leaflet() %>%
setView(lng = -122.4194, lat = 37.7749, zoom = 12) %>% # san francisco
addProviderTiles('CartoDB.Positron') %>%
addMarkers(lng = -122.4017, lat = 37.7930,
popup = "EducationSuperHighway")
df <- c()
df$type <- "home"
df$lng <- -122
df$lat <- 37.7
df <- as.data.frame(df)
names(df) <- c("type", "lng", "lat")
leaflet(df) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18),
coffee = makeIcon("icons/coffee.png", "icons/coffee.png", 18, 18)
)
leaflet(df) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
leaflet(market_data) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
leaflet(marker_data) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
marker_data <- read.csv('app_data.csv', as.is = TRUE)
wd <- "~/Google Drive/my_shiny"
setwd(wd)library(leaflet)
setwd(wd)
library(leaflet)
marker_data <- read.csv("app_data.csv", as.is = TRUE)
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18)
)
leaflet(data) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18)
)
leaflet(data) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
df <- sp::SpatialPointsDataFrame(
cbind(
(runif(20) - .5) * 10 - 90.620130,  # lng
(runif(20) - .5) * 3.8 + 25.638077  # lat
),
data.frame(type = factor(
ifelse(runif(20) > 0.75, "home", "not")))
)
View(df)
sp::SpatialPointsDataFrame(data)
data
sp::SpatialPointsDataFrame(marker_data)
data <- read.csv("app_data.csv", as.is = TRUE)
View(data)
leaflet(data) %>% addTiles() %>%
# Select from oceanIcons based on df$type
addMarkers(icon = ~testIcons[type])
leaflet(data) %>%
addTiles() %>%
addMarkers(icon = ~testIcons[type])
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18),
coffee = makeIcon("icons/coffee.png", "icons/coffee.png", 18, 18),
park = makeIcon("icons/park.png", "icons/park.png", 18, 18)
)
leaflet(data) %>%
addTiles() %>%
addMarkers(icon = ~testIcons[type])
testIcons <- iconList(
home = makeIcon("icons/home.png", 18),
coffee = makeIcon("icons/coffee.png", 18),
park = makeIcon("icons/park.png", 18)
)
leaflet(data) %>%
addTiles() %>%
addMarkers(icon = ~testIcons[type])
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18),
coffee = makeIcon("icons/coffee.png", "icons/coffee.png", 18, 18),
park = makeIcon("icons/park.png", "icons/park.png", 18, 18),
train = makeIcon("icons/train.png", "icons/train.png", 18, 18),
school = makeIcon("icons/school.png", "icons/school.png", 18, 18),
burrito = makeIcon("icons/burrito", "icons/burrito", 18, 18),
office = makeIcon("icons/office.png", "icons/office.png", 18, 18)
)
leaflet(data) %>%
addTiles() %>%
addMarkers(icon = ~testIcons[type])
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type])
View(data)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = "test test")
View(data)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = place_name)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = ~place_name)
View(data)
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18),
coffee = makeIcon("icons/coffee.png", "icons/coffee.png", 18, 18),
park = makeIcon("icons/park.png", "icons/park.png", 18, 18),
train = makeIcon("icons/train.png", "icons/train.png", 18, 18),
school = makeIcon("icons/school.png", "icons/school.png", 18, 18),
burrito = makeIcon("icons/burrito", "icons/burrito", 18, 18),
library = makeIcon("icons/library", "icons/library", 18, 18),
office = makeIcon("icons/office.png", "icons/office.png", 18, 18)
)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = ~place_name)
data <- read.csv("app_data.csv", as.is = TRUE)
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18),
coffee = makeIcon("icons/coffee.png", "icons/coffee.png", 18, 18),
park = makeIcon("icons/park.png", "icons/park.png", 18, 18),
train = makeIcon("icons/train.png", "icons/train.png", 18, 18),
school = makeIcon("icons/school.png", "icons/school.png", 18, 18),
burrito = makeIcon("icons/burrito", "icons/burrito", 18, 18),
library = makeIcon("icons/library", "icons/library", 18, 18),
office = makeIcon("icons/office.png", "icons/office.png", 18, 18)
)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = ~place_name)
View(data)
View(data)
data <- read.csv("app_data.csv", as.is = TRUE)
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18),
coffee = makeIcon("icons/coffee.png", "icons/coffee.png", 18, 18),
park = makeIcon("icons/park.png", "icons/park.png", 18, 18),
train = makeIcon("icons/train.png", "icons/train.png", 18, 18),
school = makeIcon("icons/school.png", "icons/school.png", 18, 18),
burrito = makeIcon("icons/burrito.png", "icons/burrito.png", 18, 18),
library = makeIcon("icons/library.png", "icons/library.png", 18, 18),
office = makeIcon("icons/office.png", "icons/office.png", 18, 18)
)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = ~place_name)
data <- read.csv("app_data.csv", as.is = TRUE)
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 18, 18),
coffee = makeIcon("icons/coffee.png", "icons/coffee.png", 18, 18),
park = makeIcon("icons/park.png", "icons/park.png", 18, 18),
train = makeIcon("icons/train.png", "icons/train.png", 18, 18),
school = makeIcon("icons/school.png", "icons/school.png", 18, 18),
burrito = makeIcon("icons/burrito.png", "icons/burrito.png", 18, 18),
library = makeIcon("icons/library.png", "icons/library.png", 18, 18),
office = makeIcon("icons/office.png", "icons/office.png", 18, 18)
)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = ~place_name)
testIcons <- iconList(
home = makeIcon("icons/home.png", "icons/home.png", 24, 24),
coffee = makeIcon("icons/coffee.png", "icons/coffee.png", 24, 24),
park = makeIcon("icons/park.png", "icons/park.png", 24, 24),
train = makeIcon("icons/train.png", "icons/train.png", 24, 24),
school = makeIcon("icons/school.png", "icons/school.png", 24, 24),
burrito = makeIcon("icons/burrito.png", "icons/burrito.png", 24, 24),
library = makeIcon("icons/library.png", "icons/library.png", 24, 24),
office = makeIcon("icons/office.png", "icons/office.png", 24, 24)
)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = ~place_name)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = ~place_name)
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = paste(~place_name, "<br>", "hee"))
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = paste(b(~place_name), "<br>", "hee"))
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = paste(strong(~place_name), "<br>", "hee"))
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = paste(~place_name, "<br>", b("hee")))
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = paste(~place_name, "<br>", bold("hee")))
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = paste(~place_name, "<br>", "<b>", "hee", "</b>"))
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = paste(data$place_name, "<br>", "<b>", "hee", "</b>"))
leaflet(data) %>%
addProviderTiles('CartoDB.Positron') %>%
addMarkers(icon = ~testIcons[type],
popup = paste(data$place_name, "<br>", "<b>", "test", "</b>"))
runApp('~/Desktop/ficher/Shiny')
runApp('~/Desktop/ficher/Shiny')
data <- services %>%
group_by(bandwidth_in_mbps) %>%
summarise(p25th = quantile(as.numeric(as.character(monthly_cost_per_circuit)), 0.25, na.rm = TRUE),
Median = quantile(as.numeric(as.character(monthly_cost_per_circuit)), 0.50, na.rm = TRUE),
p75th = quantile(as.numeric(as.character(monthly_cost_per_circuit)), 0.75, na.rm = TRUE))
wd <- "~/Desktop/ficher/Shiny"
setwd(wd)
services <- read.csv("services_received_shiny.csv", as.is = TRUE)
data <- services %>%
group_by(bandwidth_in_mbps) %>%
summarise(p25th = quantile(as.numeric(as.character(monthly_cost_per_circuit)), 0.25, na.rm = TRUE),
Median = quantile(as.numeric(as.character(monthly_cost_per_circuit)), 0.50, na.rm = TRUE),
p75th = quantile(as.numeric(as.character(monthly_cost_per_circuit)), 0.75, na.rm = TRUE))
dadta
data
bw <- "bandwidth_in_mbps"
percentile <- "percentiles"
dispersion <- c("p25th", "Median", "p75th")
a <- data
b <- gather_(a, bw, percentile, dispersion)
colnames(b) <- c("bw_mbps", "percentile", "cost" )
print(b)
head(b)
colnames(b) <- c("bw_mbps", "percentile", "cost" )
b$percentile <- factor(b$percentile, levels = c("p25th", "Median", "p75th"))
b
b$cost_label <- paste0("$", round(b$cost, 2))
head(b)
positions <- c("p25th", "Median", "p75th")
positions
ggplot(data = b, aes(x=percentile, y=cost,fill = factor(bw_mbps))) +
geom_bar(stat="identity", position = "dodge") +
geom_text(aes(label = cost_label
#, big.mark = ",", nsmall = 2, scientific = FALSE)
), vjust = -0.5, position = position_dodge(width = 0.9), size = 5)
b_all <- b
b <-b %>% filter(bandwidth_in_mbps == 100)
head(b)
b <-b %>% filter(bw_mbps == 100)
ggplot(data = b, aes(x=percentile, y=cost,fill = factor(bw_mbps))) +
geom_bar(stat="identity", position = "dodge") +
geom_text(aes(label = cost_label
#, big.mark = ",", nsmall = 2, scientific = FALSE)
), vjust = -0.5, position = position_dodge(width = 0.9), size = 5)
runApp()
runApp()
runApp()
